/* ==========================================================================
   FigureImage
   ========================================================================== */

/**
 * A figure element and its desendent image within a grid (.Grid) or not
 *
 * Markup example:
 *
 * <figure class="FigureImage">
 * 		<img src="..." class="FigureImage-item" alt="A single image" />
 * </figure>
 */

// .FigureImage {}

// .FigureImage-item {}

/**
 * A figure element (and image) within a (multifigure) grid
 *
 * Can be generated in (Kirby) Markdown with (figure: ) syntax
 * Contains one image by default, but can handle multiple images (multifigure)
 *
 * The multifigure uses the .Grid component to layout the items
 *
 * Markup examples:
 *
 * <figure class="FigureImage">
 * 		<img src="..." class="FigureImage-item" alt="Just a single image (no grid)" />
 * </figure>
 *
 * <figure class="FigureImage Grid Grid--withGutter">
 * 		<img src="..." class="FigureImage-item Grid-cell u-width1of2" alt="First image in row" />
 * 		<img src="..." class="FigureImage-item Grid-cell u-width1of2" alt="Secondimage in row" />
 * </figure>
 *
 * <figure class="FigureImage Grid Grid--alignCenter">
 * 		<img src="..." class="FigureImage-item Grid-cell u-width2of3--compact" alt="A centered image" />
 * </figure>
 *
 */

/**
 * Always occupy available space (even when wider than natural width of image)
 */

.FigureImage-item {
	width: 100%;
}

/**
 * Fade-in figure image on load
 */

.FigureImage.is-loaded {

	.FigureImage-lazy {
		font-size: 0;
		line-height: 0;
		background-color: rgb(246,246,243);
	}
	.FigureImage-item {
		animation: FadeIn .56s ease-in;
	}
}

/**
 * Align single figure image to center
 */

.FigureImage--alignCenter {
	text-align: center !important;

	> * {
		margin-left: auto;
		margin-right: auto;
	}
	.FigureImage-caption {
		text-align: left;
	}
}

/**
 * Figure image in grid
 */

.FigureImage {
	// @extend %u-cf;

	figcaption {
		@include rhythm-font($ms-down1); /* Reset font-size (it's set to `0` by the `.Grid` class!) */

		margin-top: rhythm(.5);
		margin-bottom: rhythm(1.5);
	}

	/**
	 * Rhythm unit gutter/spacing
	 */

	/* Set vertical grid spacing only to `.Gird-cell` items within a figure that's preceded by a figure */

	&.Grid--withGutter + .Grid--withGutter .Grid-cell {
		margin-top: rhythm($grid-spacing-rhythm-unit);
	}

	/* Align captions in layout grid to image(s) by setting half gutter rhythm units */

	&.Grid--withGutter figcaption {
		padding-right: rhythm(.5 * $grid-gutter-rhythm-unit);
		padding-left: rhythm(.5 * $grid-gutter-rhythm-unit);
	}

	/**
	 * Percentage gutter/spacing
	 */

	/* Set vertical grid percentages only to `.Gird-cell` items within a figure that's preceded by a figure */

	&.Grid--withGutterPercentage + .Grid--withGutterPercentage .Grid-cell {
		margin-top: $grid-spacing-percentage;
	}

	/* Align captions in layout grid to image(s) by setting half gutter percentages */

	&.Grid--withGutterPercentage figcaption {
		padding-right: .5 * $grid-gutter-percentage;
		padding-left: .5 * $grid-gutter-percentage;
	}
}
